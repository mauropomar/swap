(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{xUSD:function(e,t,i){"use strict";i.r(t),i.d(t,"SpecieModule",(function(){return S}));var s=i("ofXK"),c=i("tyNb"),n=i("fXoL"),r=i("2Vo4"),o=i("LRne"),a=i("AytR"),l=i("vkgz"),p=i("JIr8"),b=i("tk/3");let g=(()=>{class e{constructor(e){this.http=e,this.errorMessage=new r.a("")}getAll(){return this.http.get(a.a.apiUrl+"species").pipe(Object(l.a)(e=>console.log("fetched species")),Object(p.a)(this.handleError("getAll",{results:[]})))}get(e){return this.http.get(`${a.a.apiUrl}species/${e}`).pipe(Object(l.a)(e=>console.log("fetched specie")),Object(p.a)(this.handleError("get with id:"+e,null)))}handleError(e="operation",t){return i=>(console.error(`${e} failed: ${i.message}`),Object(o.a)(t))}}return e.\u0275fac=function(t){return new(t||e)(n.Ob(b.a))},e.\u0275prov=n.Db({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var u=i("yRMz");const f=function(e){return["/species",e]};function h(e,t){if(1&e&&(n.Kb(0,"div",3),n.Kb(1,"p"),n.ec(2),n.Kb(3,"a",4),n.ec(4,"More Details"),n.Jb(),n.Jb(),n.Jb()),2&e){const e=t.$implicit;n.xb(2),n.gc("",e.name,"/",e.classification,"/",e.designation," "),n.xb(1),n.Ub("routerLink",n.Wb(4,f,e.id))}}function d(e,t){1&e&&(n.Kb(0,"p"),n.ec(1,"No existen especies para este criterio de b\xfasqueda"),n.Jb())}let m=(()=>{class e{constructor(e,t){this.specieService=e,this.filterService=t,this.species=[],this.isEmpty=!1,this.sucription=this.filterService.filterSubject.subscribe(e=>{this.species.length>0&&this.filter(e)})}ngOnInit(){this.getAll()}ngOnDestroy(){this.sucription.unsubscribe()}getAll(){this.specieService.getAll().subscribe(e=>{const t=e.results;for(const s of t)s.id=this.getId(s.url),this.species.push(s);localStorage.setItem("items",JSON.stringify(this.species));const i=this.filterService.getFiltertext();""!==i&&this.filter(i)})}getId(e){return e.split("/")[5]}filter(e){let t=localStorage.getItem("items");if(t=JSON.parse(t),e=""!==e?e.toLocaleLowerCase():"",this.species=t.filter(t=>t.name.toLocaleLowerCase().indexOf(e)>-1||t.classification.toLocaleLowerCase().indexOf(e)>-1||t.designation.toLocaleLowerCase().indexOf(e)>-1||t.language.toLocaleLowerCase().indexOf(e)>-1),this.isEmpty=0===this.species.length,this.species.length>0&&""!==e){let t=localStorage.getItem("search"),i=null!==t?JSON.parse(t):[];const s={text:e,route:"species"};0===i.filter(e=>e.text===s.text&&e.route===s.route).length&&(i.push(s),localStorage.setItem("search",JSON.stringify(i)),this.filterService.reloadSearch())}}}return e.\u0275fac=function(t){return new(t||e)(n.Hb(g),n.Hb(u.a))},e.\u0275cmp=n.Bb({type:e,selectors:[["app-list-specie"]],decls:3,vars:2,consts:[[1,"card"],["class","item-card",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"item-card"],[3,"routerLink"]],template:function(e,t){1&e&&(n.Kb(0,"div",0),n.cc(1,h,5,6,"div",1),n.cc(2,d,2,0,"p",2),n.Jb()),2&e&&(n.xb(1),n.Ub("ngForOf",t.species),n.xb(1),n.Ub("ngIf",t.isEmpty))},directives:[s.h,s.i,c.c],styles:[".card[_ngcontent-%COMP%]{margin:10px}.item-card[_ngcontent-%COMP%]{padding:10px;font-weight:700}.item-card[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding-left:10px;font-weight:300}"]}),e})();var v=i("8Ams");function J(e,t){if(1&e&&(n.Kb(0,"div"),n.Kb(1,"p"),n.ec(2,"Something went wrong"),n.Jb(),n.Kb(3,"p"),n.ec(4),n.Jb(),n.Jb()),2&e){const e=n.Tb();n.xb(4),n.fc("Error: ",e.errorMessage,"")}}function x(e,t){if(1&e&&(n.Kb(0,"div",4),n.Kb(1,"p"),n.Kb(2,"span"),n.ec(3,"Nombre:"),n.Jb(),n.ec(4),n.Jb(),n.Kb(5,"p"),n.Kb(6,"span"),n.ec(7,"Clasificaci\xf3n:"),n.Jb(),n.ec(8),n.Jb(),n.Kb(9,"p"),n.Kb(10,"span"),n.ec(11,"Designaci\xf3n:"),n.Jb(),n.ec(12),n.Jb(),n.Kb(13,"p"),n.Kb(14,"span"),n.ec(15,"Promedio Altura:"),n.Jb(),n.ec(16),n.Jb(),n.Kb(17,"p"),n.Kb(18,"span"),n.ec(19,"Esperanza de vida:"),n.Jb(),n.ec(20),n.Jb(),n.Kb(21,"p"),n.Kb(22,"span"),n.ec(23,"Lenguaje:"),n.Jb(),n.ec(24),n.Jb(),n.Jb()),2&e){const e=n.Tb();n.xb(4),n.fc(" ",null==e.specie?null:e.specie.name,""),n.xb(4),n.fc(" ",null==e.specie?null:e.specie.classification,""),n.xb(4),n.fc(" ",null==e.specie?null:e.specie.designation,""),n.xb(4),n.fc(" ",null==e.specie?null:e.specie.average_height,""),n.xb(4),n.fc(" ",null==e.specie?null:e.specie.average_lifespan,""),n.xb(4),n.fc(" ",null==e.specie?null:e.specie.language,"")}}const O=[{path:"",component:m},{path:":id",component:(()=>{class e{constructor(e,t,i,s){this.specieService=e,this.activatedRoute=t,this.router=i,this.toolbarService=s,this.errorMessage=""}ngOnInit(){this.activatedRoute.params.subscribe(e=>{this.get(e.id)}),this.specieService.errorMessage.subscribe(e=>{this.errorMessage=e}),this.toolbarService.show(!1)}get(e){this.specieService.get(e).subscribe(e=>{this.specie=e})}goBack(){this.router.navigate(["species"]),this.toolbarService.show(!0)}}return e.\u0275fac=function(t){return new(t||e)(n.Hb(g),n.Hb(c.a),n.Hb(c.b),n.Hb(v.a))},e.\u0275cmp=n.Bb({type:e,selectors:[["app-detail-specie"]],decls:6,vars:2,consts:[[4,"ngIf","ngIfElse"],["specieDetail",""],[1,"btn-back"],["type","button",1,"btn","btn-primary",3,"click"],[1,"card"]],template:function(e,t){if(1&e&&(n.cc(0,J,5,1,"div",0),n.cc(1,x,25,6,"ng-template",null,1,n.dc),n.Kb(3,"div",2),n.Kb(4,"button",3),n.Rb("click",(function(){return t.goBack()})),n.ec(5,"Back"),n.Jb(),n.Jb()),2&e){const e=n.Yb(2);n.Ub("ngIf",t.errorMessage)("ngIfElse",e)}},directives:[s.i],styles:[".card[_ngcontent-%COMP%]{margin:10px}.card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-left:10px;font-weight:700}.btn-back[_ngcontent-%COMP%]{text-align:end;margin-right:10px}"]}),e})()}];let w=(()=>{class e{}return e.\u0275mod=n.Fb({type:e}),e.\u0275inj=n.Eb({factory:function(t){return new(t||e)},imports:[[c.d.forChild(O)],c.d]}),e})(),S=(()=>{class e{}return e.\u0275mod=n.Fb({type:e}),e.\u0275inj=n.Eb({factory:function(t){return new(t||e)},imports:[[s.b,w]]}),e})()}}]);