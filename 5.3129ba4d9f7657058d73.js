(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{pZTd:function(e,t,n){"use strict";n.r(t),n.d(t,"PeopleModule",(function(){return F}));var r=n("ofXK"),o=n("tyNb"),i=n("fXoL"),s=n("2Vo4"),p=n("LRne"),l=n("AytR"),b=n("vkgz"),c=n("JIr8"),a=n("tk/3");let u=(()=>{class e{constructor(e){this.http=e,this.errorMessage=new s.a("")}getAll(){return this.http.get(l.a.apiUrl+"people").pipe(Object(b.a)(e=>console.log("fetched peoples")),Object(c.a)(this.handleError("getAll",{results:[]})))}get(e){return this.http.get(`${l.a.apiUrl}people/${e}`).pipe(Object(b.a)(e=>console.log("fetched peoples")),Object(c.a)(this.handleError("get with id:"+e,null)))}handleError(e="operation",t){return n=>(console.error(`${e} failed: ${n.message}`),Object(p.a)(t))}}return e.\u0275fac=function(t){return new(t||e)(i.Jb(a.a))},e.\u0275prov=i.zb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var g=n("yRMz");const h=function(e){return["/peoples",e]};function d(e,t){if(1&e&&(i.Gb(0,"div",3),i.Gb(1,"p"),i.Yb(2),i.Gb(3,"a",4),i.Yb(4,"More Details"),i.Fb(),i.Fb(),i.Fb()),2&e){const e=t.$implicit;i.ub(2),i.ac("",e.name,"/",e.gender,"/",e.birth_year," "),i.ub(1),i.Pb("routerLink",i.Qb(4,h,e.id))}}function f(e,t){1&e&&(i.Gb(0,"p"),i.Yb(1,"No existen personas para este criterio de b\xfasqueda"),i.Fb())}function m(e,t){if(1&e&&(i.Gb(0,"div"),i.Gb(1,"p"),i.Yb(2,"Something went wrong"),i.Fb(),i.Gb(3,"p"),i.Yb(4),i.Fb(),i.Fb()),2&e){const e=i.Ob();i.ub(4),i.Zb("Error: ",e.errorMessage,"")}}function v(e,t){if(1&e&&(i.Gb(0,"div",4),i.Gb(1,"p"),i.Gb(2,"span"),i.Yb(3,"Nombre:"),i.Fb(),i.Yb(4),i.Fb(),i.Gb(5,"p"),i.Gb(6,"span"),i.Yb(7,"Altura:"),i.Fb(),i.Yb(8),i.Fb(),i.Gb(9,"p"),i.Gb(10,"span"),i.Yb(11,"Sexo:"),i.Fb(),i.Yb(12),i.Fb(),i.Gb(13,"p"),i.Gb(14,"span"),i.Yb(15,"A\xf1o de nacimiento:"),i.Fb(),i.Yb(16),i.Fb(),i.Gb(17,"p"),i.Gb(18,"span"),i.Yb(19,"Color de ojos:"),i.Fb(),i.Yb(20),i.Fb(),i.Fb()),2&e){const e=i.Ob();i.ub(4),i.Zb(" ",null==e.people?null:e.people.name,""),i.ub(4),i.Zb(" ",null==e.people?null:e.people.height,""),i.ub(4),i.Zb(" ",null==e.people?null:e.people.gender,""),i.ub(4),i.Zb(" ",null==e.people?null:e.people.birth_year,""),i.ub(4),i.Zb(" ",null==e.people?null:e.people.eye_color,"")}}const O=[{path:"",component:(()=>{class e{constructor(e,t){this.peopleService=e,this.filterService=t,this.peoples=[],this.isEmpty=!1,this.sucription=this.filterService.filterSubject.subscribe(e=>{this.filter(e)})}ngOnInit(){this.getAll()}ngOnDestroy(){this.sucription.unsubscribe()}getAll(){this.peopleService.getAll().subscribe(e=>{const t=e.results;for(const n of t)n.id=this.getId(n.url),this.peoples.push(n);localStorage.setItem("items",JSON.stringify(this.peoples))})}getId(e){return e.split("/")[5]}filter(e){let t=localStorage.getItem("items");if(t=JSON.parse(t),e=""!==e?e.toLocaleLowerCase():"",this.peoples=t.filter(t=>t.name.toLocaleLowerCase().indexOf(e)>-1||t.birth_year.toLocaleLowerCase().indexOf(e)>-1),this.isEmpty=0===this.peoples.length,this.peoples.length>0&&""!==e){let t=localStorage.getItem("search"),n=null!==t?JSON.parse(t):[];n.push({text:e,route:"peoples"}),localStorage.setItem("search",JSON.stringify(n)),this.filterService.reloadSearch()}}}return e.\u0275fac=function(t){return new(t||e)(i.Db(u),i.Db(g.a))},e.\u0275cmp=i.xb({type:e,selectors:[["app-list-people"]],decls:3,vars:2,consts:[[1,"card"],["class","item-card",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"item-card"],[3,"routerLink"]],template:function(e,t){1&e&&(i.Gb(0,"div",0),i.Wb(1,d,5,6,"div",1),i.Wb(2,f,2,0,"p",2),i.Fb()),2&e&&(i.ub(1),i.Pb("ngForOf",t.peoples),i.ub(1),i.Pb("ngIf",t.isEmpty))},directives:[r.h,r.i,o.c],styles:[".card[_ngcontent-%COMP%]{margin:10px}.item-card[_ngcontent-%COMP%]{padding:10px;font-weight:700}.item-card[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding-left:10px;font-weight:300}"]}),e})()},{path:":id",component:(()=>{class e{constructor(e,t,n){this.peopleService=e,this.activatedRoute=t,this.router=n,this.errorMessage=""}ngOnInit(){this.activatedRoute.params.subscribe(e=>{this.get(e.id)}),this.peopleService.errorMessage.subscribe(e=>{this.errorMessage=e})}get(e){this.peopleService.get(e).subscribe(e=>{this.people=e})}goBack(){this.router.navigate(["peoples"])}}return e.\u0275fac=function(t){return new(t||e)(i.Db(u),i.Db(o.a),i.Db(o.b))},e.\u0275cmp=i.xb({type:e,selectors:[["app-detail-people"]],decls:6,vars:2,consts:[[4,"ngIf","ngIfElse"],["peopleDetail",""],[1,"btn-back"],["type","button",1,"btn","btn-primary",3,"click"],[1,"card"]],template:function(e,t){if(1&e&&(i.Wb(0,m,5,1,"div",0),i.Wb(1,v,21,5,"ng-template",null,1,i.Xb),i.Gb(3,"div",2),i.Gb(4,"button",3),i.Mb("click",(function(){return t.goBack()})),i.Yb(5,"Back"),i.Fb(),i.Fb()),2&e){const e=i.Sb(2);i.Pb("ngIf",t.errorMessage)("ngIfElse",e)}},directives:[r.i],styles:[".card[_ngcontent-%COMP%]{margin:10px}.card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-left:10px;font-weight:700}.btn-back[_ngcontent-%COMP%]{text-align:end;margin-right:10px}"]}),e})()}];let y=(()=>{class e{}return e.\u0275mod=i.Bb({type:e}),e.\u0275inj=i.Ab({factory:function(t){return new(t||e)},imports:[[o.d.forChild(O)],o.d]}),e})(),F=(()=>{class e{}return e.\u0275mod=i.Bb({type:e}),e.\u0275inj=i.Ab({factory:function(t){return new(t||e)},imports:[[r.b,y]]}),e})()}}]);